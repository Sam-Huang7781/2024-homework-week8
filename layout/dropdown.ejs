<section class="d-flex" style="height: 600px;">
  <div id="explore-container" class="bg-neutral-10"></div>
  <div id="code-container" class="bg-white"></div>
  <div id="courses-container">
    <h3 class="fs-4 ms-6 pb-2 pt-4">🔥 熱門網頁前端課程</h3>
  </div>
</section>

<script>
  const classList = [
    {
      title: "小白也會！從零開始學習 Python 程式設計",
      price: "NT$ 3,200",
      discount: "NT$ 2,480",
      join: "已有 420 位同學加入",
      review: "⭐4.0(333)",
    },
    {
      title: "小白也會！從零開始學習 Java 程式設計",
      price: "NT$ 3,600",
      discount: "NT$ 2,600",
      join: "已有 340 位同學加入",
      review: "⭐3.8(266)",
    },
    {
      title: "小白也會！從零開始學習 C++ 程式設計",
      price: "NT$ 4,000",
      discount: "NT$ 2,800",
      join: "已有 320 位同學加入",
      review: "⭐3.9(289)",
    },
  ];

  // 容器，將生成的課程卡片插入此容器
  const coursesContainer = document.getElementById("courses-container");

  // 函數，用於創建課程卡片的 HTML
  function createCourseCard(course) {
    return `
      <div class="container mb-lg-10 p-0 pt-4 position-relative d-flex border-top mx-6" style="width: 400px">
        <img src="/assets/images/course-5.png" alt="" class="object-fit-cover rounded-4 me-3 position-relative" style="width: 100px; height: 100px" />
        <span class="position-absolute bg-danger-20 text-danger-100 rounded-4 px-2 m-1">8折</span>
        <div>
          <h2 class="fs-4 fw-bold mb-4" style="letter-spacing: 0.02em; line-height: 1.5">
            ${course.title}
          </h2>
          <ul class="d-flex justify-content-between p-0 pb-2 mb-2 border-bottom">
            <li class="teacher d-flex align-items-center">
              <img src="../assets/images/avatar-2.png" alt="" width="32" />
              <span class="ms-2 fs-3">Kelly Hsu</span>
            </li>
            <li class="price">
              <p class="text-primary fw-bold">${course.discount}</p>
              <span class="fs-3 d-block text-end text-decoration-line-through">${course.price}</span>
            </li>
          </ul>
          <div class="card-footer d-flex flex-row-reverse align-items-center justify-content-between p-0 mx-n5">
            <div class="teacher d-flex align-items-center me-5">
              <span class="ms-1 fs-3 text-black fw-bold">${course.review}</span>
            </div>
            <div class="price ms-5">
              <span class="fs-3 d-lg-block">${course.join}</span>
            </div>
          </div>
        </div>
      </div>
    `;
  }

  // 遍歷 classList，將每個課程插入到容器中
  classList.forEach((course) => {
    coursesContainer.innerHTML += createCourseCard(course);
  });

  const exploreAll = [
    "音樂",
    "攝影",
    "程式",
    "藝術",
    "人文",
    "行銷",
    "健康",
    "投資理財",
    "心靈成長",
    "職場技能",
    "生活品味",
    "音樂",
    "攝影",
    "程式",
    "藝術",
    "人文",
    "行銷",
    "健康",
    "投資理財",
    "心靈成長",
    "職場技能",
    "生活品味",
  ];
  const codeAll = [
    "程式入門",
    "網頁前端",
    "網頁後端",
    "網站架設",
    "資訊安全",
    "程式語言",
    "遊戲開發",
    "資料科學",
    "人工智慧",
    "量化分析",
  ];

  // 動態生成 exploreAll 列表
  function createExploreList() {
    const exploreContainer = document.getElementById("explore-container");
    let exploreListHTML =
      '<ul class="explore-list p-4 bg-neutral-10 overflow-y-scroll" style="height:600px"><h3 class="fs-4 ms-4 py-2">探索全部</h3>';

    exploreAll.forEach((item) => {
      exploreListHTML += `<li class="explore-item d-flex justify-content-between align-items-center g-4 px-4 py-2" style="width:208px">${item}<i class="bi bi-arrow-right-short fs-6"></i></li>`;
    });

    exploreListHTML += "</ul>";
    exploreContainer.innerHTML = exploreListHTML;

    // 增加程式項目點擊事件來顯示子分類
    const programItem = document.querySelector(".explore-item:nth-child(3)"); // 程式項
    programItem.addEventListener("click", function () {
      document.getElementById("code-container").classList.remove("d-none");
    });
  }

  // 動態生成 codeAll 子分類列表
  function createCodeList() {
    const codeContainer = document.getElementById("code-container");
    let codeListHTML =
      '<ul class="code-list p-4 bg-white" style="height:600px"><h3 class="fs-4 ms-4 py-2">所有程式</h3>';

    codeAll.forEach((item) => {
      codeListHTML += `<li class="code-item d-flex justify-content-between align-items-center g-4 px-4 py-2" style="width:208px">${item}<i class="bi bi-arrow-right-short fs-6"></i></li>`;
    });

    codeListHTML += "</ul>";
    codeContainer.innerHTML = codeListHTML;
  }

  // 初始化函數
  createExploreList();
  createCodeList();

  // 獲取所有的 .code-item
  const codeItems = document.querySelectorAll(".code-item");
  const exploreItems = document.querySelectorAll(".explore-item");

  // 為每個 .code-item 添加點擊事件
  codeItems.forEach((item) => {
    item.addEventListener("click", function () {
      // 先移除其他項目的 active 屬性
      codeItems.forEach((el) => el.classList.remove("active"));

      // 添加 active 屬性到當前點擊的項目
      this.classList.add("active");
    });
  });
  exploreItems.forEach((item) => {
    item.addEventListener("click", function () {
      // 先移除其他項目的 active 屬性
      exploreItems.forEach((el) => el.classList.remove("active"));
      codeItems.forEach((el) => el.classList.remove("active"));

      // 添加 active 屬性到當前點擊的項目
      this.classList.add("active");
    });
  });
</script>
